(this["webpackJsonpwho-wants-to-be-a-millionare"]=this["webpackJsonpwho-wants-to-be-a-millionare"]||[]).push([[0],{11:function(e,t,n){},12:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n(1),r=n(5),a=n.n(r),i=n(2),l=function(e){var t=e.changeGameState;return Object(c.jsxs)("div",{className:"menu",children:[Object(c.jsx)("img",{alt:"hand up",className:"menu__hand",src:"/who-wants-to-be-a-millionaire/assets/images/hand.svg"}),Object(c.jsxs)("div",{className:"menu__logic",children:[Object(c.jsx)("h1",{className:"menu__text",children:"Who wants to be a\xa0millionaire\xa0?"}),Object(c.jsx)("a",{href:"/",className:"menu__button",onClick:function(e){e.preventDefault(),t(2)},children:"Start"})]})]})},o=n(3),u=function(e){var t=e.question;return Object(c.jsx)("div",{className:"question-block",children:Object(c.jsx)("h2",{className:"question",children:t})})},j=function(e){var t=e.index,n=e.children,s=e.clickEvent;return Object(c.jsxs)("svg",{"data-index":t,onClick:s||null,className:"game__text-container",viewBox:"0 0 389 72",xmlns:"http://www.w3.org/2000/svg",children:[Object(c.jsx)("path",{d:"M23.8137 5.09773C25.9857 2.2033 29.3933 0.5 33.012 0.5H355.988C359.607 0.5 363.014 2.2033 365.186 5.09773L388.375 36L365.186 66.9023C363.014 69.7967 359.607 71.5 355.988 71.5H33.012C29.3933 71.5 25.9857 69.7967 23.8137 66.9023L0.625116 36L23.8137 5.09773Z",fill:"white",stroke:"#D0D0D8"}),n]})},d=function(e){var t=e.answers,n=e.correctAnswer,r=e.setAnswer,a=Object(s.useState)(!0),l=Object(i.a)(a,2),o=l[0],u=l[1],d=Object(s.useRef)();if(Object(s.useEffect)((function(){u(!0)}),[t]),!t)return null;var h=function(e){if(o){u(!1);var t=+e.target.closest("svg").dataset.index;t===n?d.current.children[t].classList.add("correct"):(d.current.children[t].classList.add("wrong"),d.current.children[n].classList.add("correct")),setTimeout((function(){t===n?d.current.children[t].classList.remove("correct"):(d.current.children[t].classList.remove("wrong"),d.current.children[n].classList.remove("correct")),r(t)}),1500)}};return Object(c.jsx)("div",{className:"answer-block",ref:d,children:t.map((function(e,t){return Object(c.jsxs)(j,{clickEvent:h,index:t,children:[Object(c.jsx)("text",{className:"answer-number",textAnchor:"middle",x:"50",y:"45",children:""+String.fromCharCode(65+t)}),Object(c.jsx)("text",{className:"answer-text",x:"70",y:"45",children:e})]},t)}))})},h=function(e){var t=e.question,n=e.setAnswer;return t?Object(c.jsxs)("div",{className:"game__board",children:[Object(c.jsx)(u,{question:t.title}),Object(c.jsx)(d,{answers:t.answers,correctAnswer:t.answerNumber,setAnswer:n})]}):null},m=function(e){var t=e.prices,n=e.currentLevel;return Object(s.useEffect)((function(){document.querySelectorAll(".game__score > div").forEach((function(e){e.style.height=100/t.length+"%"}))}),[t]),Object(c.jsx)("div",{className:"game__score",children:t.map((function(e,t,s){return Object(c.jsx)("div",{className:(n>t?"past":n===t&&"current")||"",children:Object(c.jsx)(j,{children:Object(c.jsx)("text",{textAnchor:"middle",className:"score-text",x:"50%",y:"45",children:"$"+e})})},t)}))})};function b(e){if(!e)return null;var t=e[Math.floor(Math.random()*e.length)],n=t.answers[t.answerNumber];return t.answers.sort((function(){return Math.random()-.5})),t.answerNumber=t.answers.indexOf(n),t}var v=function(e){var t=e.data,n=e.changeScore,r=e.changeGameState,a=Object(s.useState)({currentLevel:0,score:0,question:null}),l=Object(i.a)(a,2),u=l[0],j=l[1];Object(s.useEffect)((function(){j((function(e){return Object(o.a)(Object(o.a)({},e),{},{question:b(t.questions[0].list)})}))}),[t]);return t?Object(c.jsxs)("div",{className:"game",children:[Object(c.jsx)(h,{question:u.question,setAnswer:function(e){var c;e!==(null===u||void 0===u||null===(c=u.question)||void 0===c?void 0:c.answerNumber)?(n(u.score),r(3)):u.currentLevel===t.questionCount-1?(n(t.questionPrices[u.currentLevel+1]),r(3)):j((function(e){var n;return Object(o.a)(Object(o.a)({},e),{},{currentLevel:e.currentLevel+1,score:t.questionPrices[u.currentLevel+1],question:b(null===(n=t.questions[e.currentLevel+1])||void 0===n?void 0:n.list)})}))}}),Object(c.jsx)(m,{prices:t.questionPrices,currentLevel:u.currentLevel})]}):null},O=(n(11),function(e){var t=e.score,n=e.changeGameState;return Object(c.jsxs)("div",{className:"game-over",children:[Object(c.jsx)("img",{alt:"hand up",className:"menu__hand",src:"/who-wants-to-be-a-millionaire/assets/images/hand.svg"}),Object(c.jsxs)("div",{className:"menu__logic",children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("p",{className:"game-over__total",children:"Total\xa0score:"}),Object(c.jsxs)("h1",{className:"game-over__score",children:["$",t||"0","\xa0earned"]})]}),Object(c.jsx)("a",{href:"/",className:"menu__button",onClick:function(e){e.preventDefault(),n(2)},children:"Try\xa0again"})]})]})});var x=function(){var e=Object(s.useState)(1),t=Object(i.a)(e,2),n=t[0],r=t[1],a=Object(s.useState)(500),o=Object(i.a)(a,2),u=o[0],j=o[1],d=Object(s.useState)(null),h=Object(i.a)(d,2),m=h[0],b=h[1];return Object(s.useEffect)((function(){fetch("/who-wants-to-be-a-millionaire/assets/data.json").then((function(e){return e.json()})).then((function(e){return b(e)}))}),[]),m?Object(c.jsxs)(c.Fragment,{children:[1===n&&Object(c.jsx)(l,{changeGameState:r}),2===n&&Object(c.jsx)(v,{data:m,score:u,changeScore:j,changeGameState:r}),3===n&&Object(c.jsx)(O,{score:u,changeGameState:r})]}):null};a.a.render(Object(c.jsx)(x,{}),document.getElementById("root"))}},[[12,1,2]]]);
//# sourceMappingURL=main.1d3b6f03.chunk.js.map